name: SecRel CodeQL Analysis

on:
  workflow_dispatch: # Allows manual triggering
  push: #runs on any commit
  pull_request:
    branches: [ master ] # Adjust branches as needed

jobs:
  codeql:
    name: CodeQL Scan
    # Use the reusable CodeQL workflow from the SecRel pipeline repository
    uses: department-of-veterans-affairs/lighthouse-tornado-secrel-pipeline/.github/workflows/codeql.yml@v7
    with:
      # Specify the path to your SecRel configuration file
      config-file: .github/secrel/config.yml
    # Ensures the workflow has access to necessary secrets (like GITHUB_TOKEN)
    secrets: inherit
